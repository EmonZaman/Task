<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <title>Base</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


</head>
<body class="p-3 mb-2 bg-warning text-dark h-100" style="background:#364150;">
<div class="container" style="width:60%; margin-top:5%;">
    <div class="jumbotron">


        <h4 class="text-center mt-0 font-weight-bold">Please Provide your account details</h4>
        <form enctype="multipart/form-data" method="POST">
            {% csrf_token %}
            <!--                {{ form.as_p }}-->


            <div style="padding-bottom:2.5%" style="padding-top:2.5%">
                <label for="id_username" class=" requiredField">
                    Username<span class="asteriskField">*</span> </label>
                <input type="text" name="username" maxlength="150" autofocus=""
                       class="textinput textInput form-control is-invalid" required="" id="id_username">
                <span id="error_1_id_username" class="invalid-feedback">
                </span>
                <small id="hint_id_username" class="form-text text-muted">Required. 150 characters or fewer.
                    Letters,
                    digits and @/./+/-/_ only.</small>
            </div>


            <div style="padding-bottom:2.5%">


                <label for="id_password1" class=" requiredField">
                    Password<span class="asteriskField">*</span> </label>
                <input type="password" name="password" maxlength="150" autofocus=""
                       class="textinput textInput form-control is-invalid" required="" id="id_password1">
                <small id="hint_id_password1" class="form-text text-muted">
                    <ul>
                        <li>Your password can’t be too similar to your other personal information.</li>
                        <li>Your password must contain at least 8 characters.</li>
                        <li>Your password can’t be a commonly used password.</li>
                        <li>Your password can’t be entirely numeric.</li>
                    </ul>
                </small>

            </div>

            <div style="padding-bottom:2.5%">
                <label for="id_password2" class=" requiredField">
                    Confirm Password<span class="asteriskField">*</span> </label>
                <input type="password" onchange="onChangePassword()" name="password_confirm" maxlength="150"
                       autofocus=""

                       class="textinput textInput form-control is-invalid" required="" id="id_password2">
                <small id="hint_id_password2" class="form-text text-muted">Enter the same password as before, for
                    verification.</small><br>
                <span style="color:red;" id="error_span"></span>
            </div>
            <a href="{% url 'accounts:login' %}" class="previous">&laquo; Previous</a>


            <div style="padding-top:3%">
                <button onCLick="submitFunc()" value="Submit" class="btn btn-primary btn-block mt-5">Next</button>
                <input style="display:none" type="submit" name="save" value="Submit"
                       class="btn btn-primary btn-block mt-5"
                       id="submit-id-save">
            </div>


        </form>

    </div>
</div>
<script>

    function onChangePassword(){

        const pass = getValue('id_password1');
        const confirmPass = getValue('id_password2');
        console.log(pass,confirmPass);

        if( pass !== confirmPass){
            document.getElementById('error_span').textContent = "Password aren't matched"
            return false;
        }
        else{
            console.log('ok')
            document.getElementById('error_span').textContent  = ""
            return true ;
        }
    }

    function submitFunc(){
        let status = onChangePassword()
        console.log('status')
        if(status === true){
            document.getElementById("submit-id-save").click();
        }

    }

    function getValue(id){
        return document.getElementById(id).value;
    }


    (function() {

})();






</script>

</body>
</html>